server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/hesen;
    index index.html;

    server_name web.7esentv.com _;

    # âœ… Allow static assets for everyone (Browser, OS, Debugging)
    location ~* \.(png|jpg|jpeg|gif|ico|json|js|css|otf|ttf|woff|woff2|wasm)$ {
        allow all;
        try_files $uri =404;
    }

    # ðŸ”’ Restrict main app access to iPhone only (as requested)
    location / {
        if ($http_user_agent !~* iPhone) {
            return 403;
        }
        try_files $uri $uri/ /index.html;
    }
}
